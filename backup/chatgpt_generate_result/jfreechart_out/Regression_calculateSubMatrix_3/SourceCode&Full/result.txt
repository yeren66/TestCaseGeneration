Source code: 


private static double[][] calculateSubMatrix(double[][] matrix){
    int equations = matrix.length;
    int coefficients = matrix[0].length;
    double[][] result = new double[equations - 1][coefficients - 1];
    for (int eq = 1; eq < equations; eq++) {
        double factor = matrix[0][0] / matrix[eq][0];
        for (int coe = 1; coe < coefficients; coe++) {
            result[eq - 1][coe -1] = matrix[0][coe] - matrix[eq][coe]
                    * factor;
        }
    }
    if (equations == 1) {
        return result;
    }
    // check for zero pivot element
    if (result[0][0] == 0) {
        boolean found = false;
        for (int i = 0; i < result.length; i ++) {
            if (result[i][0] != 0) {
                found = true;
                double[] temp = result[0];
                System.arraycopy(result[i], 0, result[0], 0, 
                        result[i].length);
                System.arraycopy(temp, 0, result[i], 0, temp.length);
                break;
            }
        }
        if (!found) {
            //System.out.println("Equation has no solution!");
            return new double[equations - 1][coefficients - 1];
        }
    }
    double[][] subMatrix = calculateSubMatrix(result);
    for (int eq = 1; eq < equations -  1; eq++) {
        result[eq][0] = 0;
        if (coefficients - 1 - 1 >= 0) System.arraycopy(subMatrix[eq - 1], 0, result[eq], 1, coefficients - 1 - 1);
    }
    return result;
}



No.1 generated result --------------------------


package org.jfree.data.statistics;

import org.junit.jupiter.api.*;
import static org.junit.jupiter.api.Assertions.*;

public class RegressionTest {
    @Test
    public void calculateSubMatrixTest() {
        double[][] matrix = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};
        double[][] expected = {{5, 6}, {8, 9}};
        double[][] result = Regression.calculateSubMatrix(matrix);
        assertArrayEquals(expected, result);
    }
}



No.2 generated result --------------------------

double[][] testMatrix = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};
double[][] expectedResult = {{5, 6}, {8, 9}};
double[][] result = Regression.calculateSubMatrix(testMatrix);
assertArrayEquals(expectedResult, result);


No.3 generated result --------------------------

@Test
public void calculateSubMatrixTest() {
    // Test for a 2x2 matrix
    double[][] matrix = {{1.0, 2.0}, {3.0, 4.0}};
    double[][] expected = {{4.0}};
    double[][] result = Regression.calculateSubMatrix(matrix);
    assertArrayEquals(expected, result);
    
    // Test for a 3x3 matrix
    matrix = {{1.0, 2.0, 3.0}, {4.0, 5.0, 6.0}, {7.0, 8.0, 9.0}};
    expected = {{5.0, 6.0}, {8.0, 9.0}};
    result = Regression.calculateSubMatrix(matrix);
    assertArrayEquals(expected, result);
    
    // Test for a 4x4 matrix
    matrix = {{1.0, 2.0, 3.0, 4.0}, {5.0, 6.0, 7.0, 8.0}, {9.0, 10.0, 11.0, 12.0}, {13.0, 14.0, 15.0, 16.0}};
    expected = {{6.0, 7.0, 8.0}, {10.0, 11.


No.4 generated result --------------------------

package org.jfree.data.statistics;

import org.junit.jupiter.api.*;
import static org.junit.jupiter.api.Assertions.*;

public class RegressionTest {
    @Test
    public void calculateSubMatrixTest() {
        double[][] matrix = {{1.0, 2.0, 3.0}, {4.0, 5.0, 6.0}, {7.0, 8.0, 9.0}};
        double[][] expected = {{5.0, 6.0}, {8.0, 9.0}};
        double[][] actual = Regression.calculateSubMatrix(matrix);
        assertArrayEquals(expected, actual);
    }
}


No.5 generated result --------------------------

@Test
public void calculateSubMatrixTest() {
    double[][] matrix = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};
    double[][] expected = {{5, 6}, {8, 9}};
    double[][] result = Regression.calculateSubMatrix(matrix);
    for (int i = 0; i < expected.length; i++) {
        assertArrayEquals(expected[i], result[i], 0.0001);
    }
}


No.6 generated result --------------------------

@Test
public void calculateSubMatrixTest() {
    double[][] matrix = {
        {1.0, 2.0, 3.0},
        {4.0, 5.0, 6.0},
        {7.0, 8.0, 9.0}
    };

    double[][] expected = {
        {5.0, 6.0},
        {8.0, 9.0}
    };

    double[][] result = Regression.calculateSubMatrix(matrix);

    assertArrayEquals(expected, result);
}


No.7 generated result --------------------------

@Test
public void calculateSubMatrixTest() {
    double[][] matrix = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};
    double[][] expected = {{5, 6}, {8, 9}};
    double[][] result = Regression.calculateSubMatrix(matrix);
    assertArrayEquals(expected, result);
}


No.8 generated result --------------------------

@Test
    public void calculateSubMatrixTest() {
        double[][] matrix = {
            {1.0, 2.0, 3.0},
            {4.0, 5.0, 6.0},
            {7.0, 8.0, 9.0}
        };
        double[][] expectedSubMatrix = {
            {5.0, 6.0},
            {8.0, 9.0}
        };
        double[][] subMatrix = calculateSubMatrix(matrix);
        assertArrayEquals(expectedSubMatrix, subMatrix);
    }


No.9 generated result --------------------------

@Test
public void calculateSubMatrixTest() {
    double[][] matrix = {
        {2.0, 3.0, 4.0},
        {5.0, 6.0, 7.0},
        {8.0, 9.0, 10.0},
    };
    
    double[][] expected = {
        {3.0, 4.0},
        {6.0, 7.0}
    };
    
    double[][] result = Regression.calculateSubMatrix(matrix);
    
    assertArrayEquals(expected, result);
}


No.10 generated result --------------------------

package org.jfree.data.statistics;

import org.junit.jupiter.api.*;
import static org.junit.jupiter.api.Assertions.*;

public class RegressionTest {
    @Test
    public void calculateSubMatrixTest() {
        double[][] matrix = new double[][]{{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};
        double[][] expected = new double[][]{{5, 6}, {8, 9}};
        double[][] result = Regression.calculateSubMatrix(matrix);
        assertArrayEquals(expected, result);
    }
}


